<div class="backimg">
<mat-card>
  <p>
    From to where?
  </p>
  <form class="example-form">
     <!--<mat-form-field class="example-full-width">
          <mat-label>From</mat-label>
          <input matInput placeholder="From" [(ngModel)]="rideSearch.origin" name="origin">
        </mat-form-field>


        <mat-form-field class="example-full-width">
            <mat-label>To</mat-label>
            <input matInput placeholder="To where?" [(ngModel)]="rideSearch.dest" name="dest">
          </mat-form-field>
      //commented out area that doesn't have auto complete-->
      <mat-form-field class="example-full-width" text>
        <input matInput ngx-google-places-autocomplete #placesRef="ngx-places" placeholder="From"
          (onAddressChange)="handleOriginAddressChange($event)" />
      </mat-form-field>
  
      <mat-form-field class="example-full-width">
        <input matInput ngx-google-places-autocomplete #placesRef="ngx-places" placeholder="To"
          (onAddressChange)="handleDestAddressChange($event)" />
      </mat-form-field>
      <mat-form-field class="date">
        <input
            matInput
            [matDatepicker]="picker"
            placeholder="Choose a date"
            [(ngModel)]="rideSearch.date"
            name="date"
          />
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>


    <!-- <mat-form-field class="date">
      <input
        matInput
        [matDatepicker]="picker"
        placeholder="Choose a date"
        [(ngModel)]="rideSearch.date"
        name="date"
      />
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <mat-form-field class="example-full-width">
      <input
        matInput
        placeholder="Choose time"
        atp-time-picker
        type="time"
        [(ngModel)]="rideSearch.time"
        name="time"
      />
    </mat-form-field> -->
    <button mat-raised-button (click)="onSearchRide()">Look for a ride</button>
  </form>
</mat-card>

<!--
<mat-card>

  <p>Search results:</p>
  <div>
      <table mat-table class="mat-elevation-z8">
        <td class="td_cell" mat-cell>Origin</td>
        <td class="td_cell" mat-cell>Dest</td>
        <td class="td_cell" mat-cell>Time</td>
        <td class="td_cell" mat-cell>Date</td>
        <td class="td_cell" mat-cell>Driver</td>
        <td class="td_cell" mat-cell>Rating</td>

        <tr *ngFor="let ride of rides">
          <td mat-cell>{{ ride.origin }}</td>
          <td mat-cell>{{ ride.dest }}</td>
          <td mat-cell>{{ ride.time }}</td>
          <td mat-cell>{{ ride.date }}</td>
          <td mat-cell>
            <span *ngIf="ride.driver">{{ ride.driver.fullname }}</span>
          </td>
          <td mat-cell><input type="button" value="Rate" (click)="rateRide(ride._id)"></td>

        </tr>
      </table>
    </div>
</mat-card>
-->

<div fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.5%" fxLayoutAlign="center">
    <mat-card *ngFor="let ride of rides" class="card-picture">
    <mat-card-header>
      <div mat-card-avatar class="example-header-image"></div>
      <mat-card-title fxLayout.gt-xs="row" fxLayout.xs="column">
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p><b>Origin:</b> {{ ride.origin }}</p>
      <p><b>Destination:</b> {{ ride.dest }}</p>
      <p> <mat-icon fxFlex="10%">calendar_today</mat-icon><b>Date:</b> {{ride.date}} </p>
      <p> <mat-icon fxFlex="10%">access_time</mat-icon> <b>Time:</b>  {{ride.time}}</p>
      <p> <mat-icon fxFlex="10%">face</mat-icon> <span *ngIf="ride.driver"><b>Driver Name:</b> {{ ride.driver.fullname }}</span></p>


    </mat-card-content>
    <mat-card-actions>
        <button mat-button (click)="joinRide(ride._id)">Join the ride</button>
      </mat-card-actions>
  </mat-card>
</div>
</div>
