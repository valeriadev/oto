<mat-card>
  <p>
    Enter some details
  </p>
  <form class="example-form">
<!--
 f
    <mat-form-field class="example-full-width" text >
      <input matInput ngx-google-places-autocomplete #placesRef="ngx-places" placeholder="From" (onAddressChange)="handleOriginAddressChange($event)"/>
    </mat-form-field>

    <mat-form-field class="example-full-width">
      <input matInput ngx-google-places-autocomplete #placesRef="ngx-places" placeholder="To" (onAddressChange)="handleDestAddressChange($event)"/>
    </mat-form-field>
-->
    <mat-form-field class="date">
      <input
        matInput
        [matDatepicker]="picker"
        placeholder="Choose a date"
        [(ngModel)]="rideSearch.date"
        name="date"
      />
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <mat-form-field class="example-full-width">
      <input
        matInput
        placeholder="Choose time"
        atp-time-picker
        type="time"
        [(ngModel)]="rideSearch.time"
        name="time"
      />
    </mat-form-field>
    <button mat-raised-button (click)="onSearchRide()">Look for a ride</button>
  </form>
</mat-card>


<mat-card>

  <p>Search results:</p>
  <div>
      <table mat-table class="mat-elevation-z8">
        <td class="td_cell" mat-cell>Origin</td>
        <td class="td_cell" mat-cell>Dest</td>
        <td class="td_cell" mat-cell>Time</td>
        <td class="td_cell" mat-cell>Date</td>
        <td class="td_cell" mat-cell>Driver</td>
        <td class="td_cell" mat-cell>Rating</td>

        <tr *ngFor="let ride of rides">
          <td mat-cell>{{ ride.origin }}</td>
          <td mat-cell>{{ ride.dest }}</td>
          <td mat-cell>{{ ride.time }}</td>
          <td mat-cell>{{ ride.date }}</td>
          <td mat-cell>
            <span *ngIf="ride.driver">{{ ride.driver.firstname }} {{ ride.driver.lastname }}</span>
          </td>
          <td mat-cell><input type="button" value="Rate" (click)="rateRide(ride._id)"></td>

        </tr>
      </table>
    </div>
</mat-card>

<mat-card>
<br>
<P>Amount of rides per destionation (group by):</P><br><svg width='1000' height='600' appDestGraph graphType="dest"></svg>
<br>
<p>Amount of rides per origin (MapReduce):</p><br>
<svg width='1000' height='600' appDestGraph graphType="origin"></svg>
<br>



</mat-card>
